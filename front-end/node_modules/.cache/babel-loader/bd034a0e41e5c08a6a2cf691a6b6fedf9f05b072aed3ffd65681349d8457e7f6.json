{"ast":null,"code":"import React,{useState}from'react';import{useNavigate,useLocation}from'react-router-dom';import'../MenuDetails.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function MenuDetails(){const[activeDetail,setActiveDetail]=useState('');const[searchQuery,setSearchQuery]=useState('');const[searchResults,setSearchResults]=useState([]);const[alertMessage,setAlertMessage]=useState('');const navigate=useNavigate();const location=useLocation();const toggleDetails=detail=>{setActiveDetail(activeDetail===detail?'':detail);};const handleSearchChange=event=>{setSearchQuery(event.target.value);setAlertMessage('');// Reset alert message on new input\n};const handleSearch=async()=>{if(searchQuery.length>0){try{const response=await fetch(\"http://localhost:3301/api/food/search?name=\".concat(encodeURIComponent(searchQuery)));const data=await response.json();if(data.length===0){setAlertMessage('Alimento n√£o encontrado');setSearchResults([]);}else{setSearchResults(data.slice(0,3));// Limit results to 3 items\nsetSearchQuery('');// Clear the search field\n}}catch(error){console.error('Search failed:',error);setAlertMessage('Search failed');}}};const removeItem=id=>{setSearchResults(prev=>prev.filter(item=>item.id!==id));};const day=location.state?location.state.day:\"Dia\";return/*#__PURE__*/_jsxs(\"div\",{className:\"menu-details-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/curitiba-logo.png\",alt:\"Curitiba Logo\",className:\"logo\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(-1),className:\"back-button\",children:\"\\uD83D\\uDD19\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Pesquisar...\",className:\"search-input\",value:searchQuery,onChange:handleSearchChange}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSearch,className:\"search-button\",children:\"Adicionar\"}),alertMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"alert\",children:alertMessage}),/*#__PURE__*/_jsx(\"div\",{className:\"search-results\",children:searchResults.map(item=>/*#__PURE__*/_jsxs(\"div\",{children:[item.nome,\" \",/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeItem(item.id),children:\"X\"})]},item.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"menu-title\",children:[\"Card\\xE1pio de \",day]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Almo\\xE7o:\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Lorem Ipsum...\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Jantar:\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Lorem Ipsum...\"}),/*#__PURE__*/_jsx(\"div\",{className:\"info-section\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{onClick:()=>toggleDetails('doubts'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon\",\"aria-hidden\":\"true\",children:\"\\u2753\"}),\" D\\xFAvidas com o preparo?\",activeDetail==='doubts'&&/*#__PURE__*/_jsx(\"p\",{children:\"Detalhes sobre como preparar...\"})]}),/*#__PURE__*/_jsxs(\"li\",{onClick:()=>toggleDetails('substitutes'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon\",\"aria-hidden\":\"true\",children:\"\\uD83D\\uDD04\"}),\" Alimentos substitutivos.\",activeDetail==='substitutes'&&/*#__PURE__*/_jsx(\"p\",{children:\"Op\\xE7\\xF5es para substituir...\"})]}),/*#__PURE__*/_jsxs(\"li\",{onClick:()=>toggleDetails('shoppingList'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon\",\"aria-hidden\":\"true\",children:\"\\uD83D\\uDED2\"}),\" Lista de compras.\",activeDetail==='shoppingList'&&/*#__PURE__*/_jsx(\"p\",{children:\"O que comprar para preparar...\"})]})]})})]})]});}export default MenuDetails;","map":{"version":3,"names":["React","useState","useNavigate","useLocation","jsx","_jsx","jsxs","_jsxs","MenuDetails","activeDetail","setActiveDetail","searchQuery","setSearchQuery","searchResults","setSearchResults","alertMessage","setAlertMessage","navigate","location","toggleDetails","detail","handleSearchChange","event","target","value","handleSearch","length","response","fetch","concat","encodeURIComponent","data","json","slice","error","console","removeItem","id","prev","filter","item","day","state","className","children","src","alt","onClick","type","placeholder","onChange","map","nome"],"sources":["C:/temp/uninter/frontend/src/components/MenuDetails.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport '../MenuDetails.css';\r\n\r\nfunction MenuDetails() {\r\n  const [activeDetail, setActiveDetail] = useState('');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [alertMessage, setAlertMessage] = useState('');\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  const toggleDetails = (detail) => {\r\n    setActiveDetail(activeDetail === detail ? '' : detail);\r\n  };\r\n\r\n  const handleSearchChange = (event) => {\r\n    setSearchQuery(event.target.value);\r\n    setAlertMessage(''); // Reset alert message on new input\r\n  };\r\n\r\n  const handleSearch = async () => {\r\n    if (searchQuery.length > 0) {\r\n      try {\r\n        const response = await fetch(`http://localhost:3301/api/food/search?name=${encodeURIComponent(searchQuery)}`);\r\n        const data = await response.json();\r\n        if (data.length === 0) {\r\n          setAlertMessage('Alimento n√£o encontrado');\r\n          setSearchResults([]);\r\n        } else {\r\n          setSearchResults(data.slice(0, 3)); // Limit results to 3 items\r\n          setSearchQuery(''); // Clear the search field\r\n        }\r\n      } catch (error) {\r\n        console.error('Search failed:', error);\r\n        setAlertMessage('Search failed');\r\n      }\r\n    }\r\n  };\r\n\r\n  const removeItem = id => {\r\n    setSearchResults(prev => prev.filter(item => item.id !== id));\r\n  };\r\n\r\n  const day = location.state ? location.state.day : \"Dia\";\r\n\r\n  return (\r\n    <div className=\"menu-details-container\">\r\n      <div className=\"sidebar\">\r\n        <img src=\"/images/curitiba-logo.png\" alt=\"Curitiba Logo\" className=\"logo\"/>\r\n        <button onClick={() => navigate(-1)} className=\"back-button\">üîô</button>\r\n        <input type=\"text\" placeholder=\"Pesquisar...\" className=\"search-input\" value={searchQuery} onChange={handleSearchChange} />\r\n        <button onClick={handleSearch} className=\"search-button\">Adicionar</button>\r\n        {alertMessage && <div className=\"alert\">{alertMessage}</div>}\r\n        <div className=\"search-results\">\r\n          {searchResults.map(item => (\r\n            <div key={item.id}>\r\n              {item.nome} <button onClick={() => removeItem(item.id)}>X</button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <div className=\"content\">\r\n        <h2 className=\"menu-title\">Card√°pio de {day}</h2>\r\n        <h3>Almo√ßo:</h3>\r\n        <p>Lorem Ipsum...</p>\r\n        <h3>Jantar:</h3>\r\n        <p>Lorem Ipsum...</p>\r\n        <div className=\"info-section\">\r\n          <ul>\r\n            <li onClick={() => toggleDetails('doubts')}>\r\n              <span className=\"icon\" aria-hidden=\"true\">‚ùì</span> D√∫vidas com o preparo?\r\n              {activeDetail === 'doubts' && <p>Detalhes sobre como preparar...</p>}\r\n            </li>\r\n            <li onClick={() => toggleDetails('substitutes')}>\r\n              <span className=\"icon\" aria-hidden=\"true\">üîÑ</span> Alimentos substitutivos.\r\n              {activeDetail === 'substitutes' && <p>Op√ß√µes para substituir...</p>}\r\n            </li>\r\n            <li onClick={() => toggleDetails('shoppingList')}>\r\n              <span className=\"icon\" aria-hidden=\"true\">üõí</span> Lista de compras.\r\n              {activeDetail === 'shoppingList' && <p>O que comprar para preparar...</p>}\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MenuDetails;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}